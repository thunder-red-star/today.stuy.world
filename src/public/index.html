<html>
    <head>
        <link rel="stylesheet" href="stuyle.css">
        <link id="water" href="https://cdn.jsdelivr.net/npm/water.css@2/out/light.css" rel="stylesheet" type="text/css">
    </head>
    <body>
     <button id="toggleBtn" style="position: fixed;top: 50px;right: 50px;margin: 0;padding: 10px;line-height: 1;" ariaLabel='Switch theme'><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button>
        <h1>Today</h1>
        <!-- The website's main container will have a container storing the bell timing. The bell timing will contain three divs: the first at the top contains the current period name, the second one contains two sub-divs that hold the time since period start (float left) and time until next period (float right), and the third one contains the current time. -->
        <div id="bell-timing">
            <div id="current-period" class="float-clear">
                <h2 id="period-name-header">Period Name</h2>
            </div>
            <div id="time-since-period" class="float-left">
                <h2 id="time-since-header">Time Since Period Start</h2>
            </div>
            <div id="time-until-next-period" class="float-right">
                <h2 id="time-until-header">Time Until Next Period</h2>
            </div>
            <div id="current-time" class="float-clear">
                <h2 id="current-time-header">Current Time</h2>
            </div>
        </div>
        <script src="/socket.io/socket.io.js"></script>
     <script src="bellschedule.js"></script>
        <script>
            // Load socket.io
            var socket = io();
            // Get the bell timing div
            var bellTiming = document.getElementById("bell-timing");
			// Every second, update the current time in the current-time-header id
            setInterval(function() {
                var currentTime = new Date();
                var currentTimeHeader = document.getElementById("current-time-header");
                currentTimeHeader.innerHTML = currentTime.toLocaleTimeString();
            }, 1000);
			// On receive heartbeat, update the time since period start and time until next period
            socket.on("heartbeat", function(data) {
                var timeSinceHeader = document.getElementById("time-since-header");
                var timeUntilHeader = document.getElementById("time-until-header");
                var currentPeriodName = document.getElementById("period-name-header");
                var timeSincePeriod = findDifference(new Date(), data.currentClass.start);
                var timeUntilPeriod = findDifference(data.currentClass.end, new Date());
                var currentPeriodName = document.getElementById("period-name-header");
                timeSinceHeader.innerHTML = timeSincePeriod;
                timeUntilHeader.innerHTML = timeUntilPeriod;
            });
        </script>

        <script src="water.js"></script>
    </body>
</html>